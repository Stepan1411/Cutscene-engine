# ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ñ ĞºĞ°Ñ‚ÑÑ†ĞµĞ½Ñ‹

# Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞº Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ñ ĞµÑĞ»Ğ¸ Ğ¸Ñ… Ğ½ĞµÑ‚
execute unless data storage cutscene:workspace settings.ending run data modify storage cutscene:workspace settings.ending set value {teleport:0b,set_gamemode:0b,gamemode:0,show_title:0b,title:"",subtitle:""}

# ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
execute store result score #teleport cutscene.temp run data get storage cutscene:workspace settings.ending.teleport
execute store result score #set_gamemode cutscene.temp run data get storage cutscene:workspace settings.ending.set_gamemode
execute store result score #gamemode cutscene.temp run data get storage cutscene:workspace settings.ending.gamemode
execute store result score #show_title cutscene.temp run data get storage cutscene:workspace settings.ending.show_title

execute if score localization l matches 1 run tellraw @s ""
execute if score localization l matches 1 run tellraw @s [{"text":"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”","color":"gold"}]
execute if score localization l matches 1 run tellraw @s [{"text":"ğŸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ñ","color":"gold","bold":true}]
execute if score localization l matches 1 run tellraw @s [{"text":"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”","color":"gold"}]
execute if score localization l matches 1 run tellraw @s ""

execute if score localization l matches 2 run tellraw @s ""
execute if score localization l matches 2 run tellraw @s [{"text":"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”","color":"gold"}]
execute if score localization l matches 2 run tellraw @s [{"text":"ğŸ Ending Settings","color":"gold","bold":true}]
execute if score localization l matches 2 run tellraw @s [{"text":"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”","color":"gold"}]
execute if score localization l matches 2 run tellraw @s ""

# Ğ¢ĞµĞ»ĞµĞ¿Ğ¾Ñ€Ñ‚Ğ°Ñ†Ğ¸Ñ
execute if score localization l matches 1 if score #teleport cutscene.temp matches 0 run tellraw @s [{"text":"ğŸ“ Ğ¢ĞµĞ»ĞµĞ¿Ğ¾Ñ€Ñ‚Ğ°Ñ†Ğ¸Ñ: ","color":"yellow"},{"text":"âŒ Ğ’Ñ‹ĞºĞ»","color":"red"},{"text":" [Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ]","color":"green","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_teleport_toggle"}}]
execute if score localization l matches 2 if score #teleport cutscene.temp matches 0 run tellraw @s [{"text":"ğŸ“ Teleportation: ","color":"yellow"},{"text":"âŒ Off","color":"red"},{"text":" [Enable]","color":"green","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_teleport_toggle"}}]
execute if score localization l matches 1 if score #teleport cutscene.temp matches 1 run tellraw @s [{"text":"ğŸ“ Ğ¢ĞµĞ»ĞµĞ¿Ğ¾Ñ€Ñ‚Ğ°Ñ†Ğ¸Ñ: ","color":"yellow"},{"text":"âœ“ Ğ’ĞºĞ»","color":"green"},{"text":" [Ğ’Ñ‹ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ]","color":"red","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_teleport_toggle"}}]
execute if score localization l matches 2 if score #teleport cutscene.temp matches 1 run tellraw @s [{"text":"ğŸ“ Teleportation: ","color":"yellow"},{"text":"âœ“ On","color":"green"},{"text":" [Disable]","color":"red","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_teleport_toggle"}}]
execute if score localization l matches 1 if score #teleport cutscene.temp matches 1 run tellraw @s [{"text":"   [Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ñ‚ĞµĞºÑƒÑ‰ÑƒÑ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ñ]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_set_position"}}]
execute if score localization l matches 2 if score #teleport cutscene.temp matches 1 run tellraw @s [{"text":"   [Set current position]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_set_position"}}]
execute if score localization l matches 1 run tellraw @s ""
execute if score localization l matches 2 run tellraw @s ""

# Ğ ĞµĞ¶Ğ¸Ğ¼ Ğ¸Ğ³Ñ€Ñ‹
execute if score localization l matches 1 if score #set_gamemode cutscene.temp matches 0 run tellraw @s [{"text":"ğŸ® Ğ ĞµĞ¶Ğ¸Ğ¼ Ğ¸Ğ³Ñ€Ñ‹: ","color":"yellow"},{"text":"âŒ ĞĞµ Ğ¼ĞµĞ½ÑÑ‚ÑŒ","color":"gray"},{"text":" [Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ]","color":"green","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_toggle"}}]
execute if score localization l matches 2 if score #set_gamemode cutscene.temp matches 0 run tellraw @s [{"text":"ğŸ® Game Mode: ","color":"yellow"},{"text":"âŒ Don't change","color":"gray"},{"text":" [Enable]","color":"green","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_toggle"}}]
execute if score localization l matches 1 if score #set_gamemode cutscene.temp matches 1 run tellraw @s [{"text":"ğŸ® Ğ ĞµĞ¶Ğ¸Ğ¼ Ğ¸Ğ³Ñ€Ñ‹: ","color":"yellow"},{"text":"âœ“ Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ","color":"green"},{"text":" [Ğ’Ñ‹ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ]","color":"red","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_toggle"}}]
execute if score localization l matches 2 if score #set_gamemode cutscene.temp matches 1 run tellraw @s [{"text":"ğŸ® Game Mode: ","color":"yellow"},{"text":"âœ“ Set","color":"green"},{"text":" [Disable]","color":"red","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_toggle"}}]
execute if score localization l matches 1 if score #set_gamemode cutscene.temp matches 1 if score #gamemode cutscene.temp matches 0 run tellraw @s [{"text":"   Ğ ĞµĞ¶Ğ¸Ğ¼: ","color":"gray"},{"text":"Survival","color":"white","bold":true},{"text":" | "},{"text":"[Creative]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:1}"}},{"text":" | "},{"text":"[Adventure]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:2}"}},{"text":" | "},{"text":"[Spectator]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:3}"}}]
execute if score localization l matches 2 if score #set_gamemode cutscene.temp matches 1 if score #gamemode cutscene.temp matches 0 run tellraw @s [{"text":"   Mode: ","color":"gray"},{"text":"Survival","color":"white","bold":true},{"text":" | "},{"text":"[Creative]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:1}"}},{"text":" | "},{"text":"[Adventure]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:2}"}},{"text":" | "},{"text":"[Spectator]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:3}"}}]
execute if score localization l matches 1 if score #set_gamemode cutscene.temp matches 1 if score #gamemode cutscene.temp matches 1 run tellraw @s [{"text":"   Ğ ĞµĞ¶Ğ¸Ğ¼: ","color":"gray"},{"text":"[Survival]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:0}"}},{"text":" | "},{"text":"Creative","color":"white","bold":true},{"text":" | "},{"text":"[Adventure]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:2}"}},{"text":" | "},{"text":"[Spectator]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:3}"}}]
execute if score localization l matches 2 if score #set_gamemode cutscene.temp matches 1 if score #gamemode cutscene.temp matches 1 run tellraw @s [{"text":"   Mode: ","color":"gray"},{"text":"[Survival]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:0}"}},{"text":" | "},{"text":"Creative","color":"white","bold":true},{"text":" | "},{"text":"[Adventure]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:2}"}},{"text":" | "},{"text":"[Spectator]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:3}"}}]
execute if score localization l matches 1 if score #set_gamemode cutscene.temp matches 1 if score #gamemode cutscene.temp matches 2 run tellraw @s [{"text":"   Ğ ĞµĞ¶Ğ¸Ğ¼: ","color":"gray"},{"text":"[Survival]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:0}"}},{"text":" | "},{"text":"[Creative]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:1}"}},{"text":" | "},{"text":"Adventure","color":"white","bold":true},{"text":" | "},{"text":"[Spectator]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:3}"}}]
execute if score localization l matches 2 if score #set_gamemode cutscene.temp matches 1 if score #gamemode cutscene.temp matches 2 run tellraw @s [{"text":"   Mode: ","color":"gray"},{"text":"[Survival]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:0}"}},{"text":" | "},{"text":"[Creative]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:1}"}},{"text":" | "},{"text":"Adventure","color":"white","bold":true},{"text":" | "},{"text":"[Spectator]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:3}"}}]
execute if score localization l matches 1 if score #set_gamemode cutscene.temp matches 1 if score #gamemode cutscene.temp matches 3 run tellraw @s [{"text":"   Ğ ĞµĞ¶Ğ¸Ğ¼: ","color":"gray"},{"text":"[Survival]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:0}"}},{"text":" | "},{"text":"[Creative]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:1}"}},{"text":" | "},{"text":"[Adventure]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:2}"}},{"text":" | "},{"text":"Spectator","color":"white","bold":true}]
execute if score localization l matches 2 if score #set_gamemode cutscene.temp matches 1 if score #gamemode cutscene.temp matches 3 run tellraw @s [{"text":"   Mode: ","color":"gray"},{"text":"[Survival]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:0}"}},{"text":" | "},{"text":"[Creative]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:1}"}},{"text":" | "},{"text":"[Adventure]","color":"aqua","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_gamemode_set {mode:2}"}},{"text":" | "},{"text":"Spectator","color":"white","bold":true}]
execute if score localization l matches 1 run tellraw @s ""
execute if score localization l matches 2 run tellraw @s ""

# Title
execute if score localization l matches 1 if score #show_title cutscene.temp matches 0 run tellraw @s [{"text":"ğŸ“œ Title: ","color":"yellow"},{"text":"âŒ Ğ’Ñ‹ĞºĞ»","color":"red"},{"text":" [Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ]","color":"green","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_title_toggle"}}]
execute if score localization l matches 2 if score #show_title cutscene.temp matches 0 run tellraw @s [{"text":"ğŸ“œ Title: ","color":"yellow"},{"text":"âŒ Off","color":"red"},{"text":" [Enable]","color":"green","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_title_toggle"}}]
execute if score localization l matches 1 if score #show_title cutscene.temp matches 1 run tellraw @s [{"text":"ğŸ“œ Title: ","color":"yellow"},{"text":"âœ“ Ğ’ĞºĞ»","color":"green"},{"text":" [Ğ’Ñ‹ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ]","color":"red","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_title_toggle"}}]
execute if score localization l matches 2 if score #show_title cutscene.temp matches 1 run tellraw @s [{"text":"ğŸ“œ Title: ","color":"yellow"},{"text":"âœ“ On","color":"green"},{"text":" [Disable]","color":"red","click_event":{"action":"run_command","command":"/function cutscene:edit/workspace_settings_ending_title_toggle"}}]
execute if score localization l matches 1 if score #show_title cutscene.temp matches 1 run tellraw @s [{"text":"   [Ğ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ñ‚ĞµĞºÑÑ‚]","color":"aqua","click_event":{"action":"suggest_command","command":"/function cutscene:edit/workspace_settings_ending_title_set {title:\"Title\",subtitle:\"Subtitle\"}"}}]
execute if score localization l matches 2 if score #show_title cutscene.temp matches 1 run tellraw @s [{"text":"   [Change text]","color":"aqua","click_event":{"action":"suggest_command","command":"/function cutscene:edit/workspace_settings_ending_title_set {title:\"Title\",subtitle:\"Subtitle\"}"}}]
execute if score localization l matches 1 run tellraw @s ""
execute if score localization l matches 2 run tellraw @s ""

execute if score localization l matches 1 run tellraw @s [{"text":"[â†© ĞĞ°Ğ·Ğ°Ğ´]","color":"gray","click_event":{"action":"run_command","command":"/function cutscene:edit/settings_back"}}]
execute if score localization l matches 2 run tellraw @s [{"text":"[â†© Back]","color":"gray","click_event":{"action":"run_command","command":"/function cutscene:edit/settings_back"}}]
execute if score localization l matches 1 run tellraw @s [{"text":"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”","color":"gold"}]
execute if score localization l matches 2 run tellraw @s [{"text":"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”","color":"gold"}]
execute if score localization l matches 1 run tellraw @s ""
execute if score localization l matches 2 run tellraw @s ""

playsound minecraft:ui.button.click master @s ~ ~ ~ 0.5 1
